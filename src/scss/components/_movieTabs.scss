@use '../base/variables' as *;
@use '../utilities/mixins' as *;
@use '../utilities/functions' as *;


// -----------------------------------------------------------------------
// Mobile and Universal Styling
// -----------------------------------------------------------------------
.tabs {
    @include flex-row(center, center, em(50));
    padding: 3rem 0;
    position: relative;

    // horizontal overflow scrolling styling
    display: flex;
    overflow-x: auto;
    white-space: nowrap; 
    scrollbar-width: none; // hide scrollbar in firefox
    -ms-overflow-style: none; // hide scrollbar in ie and edge

    &::-webkit-scrollbar {
        display: none; // hide scrollbar in WebKit browsers like chrome and Safari
    }

    &:after {
        // gray bar
        content: '';
        position: absolute;
        bottom: 2em;
        width: em(491);
        height: em(3);
        background-color: rgb(212, 212, 212);
        z-index: 1;
    }

    button {
        background: none;
        border: none;
        font-size: 1rem;
        font-family: $font;
        cursor: pointer;
        position: relative;
        font-weight: 400;
    }

    .active {
        color: $primary-colour;
        font-weight: 500;
        
        &:after {
            // blue bar (active tab)
            content: '';
            position: absolute;
            bottom: -1rem;
            left:0;
            width: 100%;
            height: em(3);
            background-color: $primary-colour;
            cursor:auto;
            z-index: 2;
        }
    }
}

.tab-content {
    // @include flex-column(center, center, 0);
    @include flex-row(center, center, em(20));
    flex-wrap: wrap;
    @include horizontal-margin-center;
    margin: 1em em(10);

    .movie-item {
        // setting container size
        position: relative;
        width: em(220); // SET IMAGE SIZE HERE!!!
        height: auto;
        overflow: hidden;


        img,
        .no-image {
            // make images or no images fill container
            width: 100%;
            height: 100%;
            object-fit:cover; 
        }

        .overlay {
            // formatting overlay and setting invisibility
            position: absolute;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: rgba(0,0,0,0.7);
            color: $tertiary-colour;
            opacity: 0;
            @include flex-column(center, center, 0);
            padding: em(20);
            margin-bottom: em(5); // fixes the overflow of the overlay background
            transition: opacity 0.3s ease-in-out;
        }

        &:hover .overlay,
        &:focus-within .overlay{
            opacity: 1;
        }
    }
}

// -----------------------------------------------------------------------
// Tablet+ Styling
// -----------------------------------------------------------------------

@include mq($tablet-width) {
    .tab-content{
        @include flex-row(center, center, em(20));
        flex-wrap: wrap;
        max-width: em(800); 
        @include horizontal-margin-center;
    }
} 

// -----------------------------------------------------------------------
// Desktop+ Styling
// -----------------------------------------------------------------------
@include mq($desktop-large-width) {
    .tab-content{
        max-width: em(1000); 
    }
} 